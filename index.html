<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        const choices = {
            'Rock': 'Scissors',
            'Scissors': 'Paper',
            'Paper': 'Rock'
        }

        function toTitleCase(string) {
            if(!string) return ''
            return string[0].toUpperCase() + string.slice(1).toLowerCase()
        }

        function getComputerChoice() {
            const options = Object.keys(choices)
            const rndIndex = Math.floor(Math.random() * options.length)
            return options[rndIndex]
        }

        function playRound(playerSelection,computerSelection) {
            playerSelection = toTitleCase(playerSelection)
            if(choices[playerSelection] === computerSelection) {
                // player wins
                return `You win! ${playerSelection} beats ${computerSelection}`
            } else if(choices[computerSelection] === playerSelection) {
                // computer wins
                return `You lose! ${computerSelection} beats ${playerSelection}`
            } else {
                // draw
                return "It's a draw!"
            }
        }

        function getUserInput() {
            for(;;) {
                userInput = toTitleCase(prompt('Choose "Paper", "Rock" or "Scissors": ', ''))
                if(!!choices[userInput]) return userInput
                alert('Invalid choice. Try again.')
            }
        }

    

        const playerSelection = 'rock';
        const computerSelection = getComputerChoice()
        // console.log(playRound(playerSelection,computerSelection))
        getUserInput()
    </script>
</body>
</html>